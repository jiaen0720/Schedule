
@{
    ViewBag.Title = "Index4";
}

<div id="scheduler_here" class="dhx_cal_container" style='width:100%; height:100vh;'>
    <div class="dhx_cal_navline">
        <div class="dhx_cal_prev_button">&nbsp;</div>
        <div class="dhx_cal_next_button">&nbsp;</div>
        <div class="dhx_cal_today_button"></div>
        <div class="dhx_cal_date"></div>
        <div class="dhx_cal_tab" name="day_tab"></div>
        <div class="dhx_cal_tab" name="week_tab"></div>
        <div class="dhx_cal_tab" name="month_tab"></div>
    </div>
    <div class="dhx_cal_header"></div>
    <div class="dhx_cal_data"></div>
</div>

@section scripts{
    <link rel="stylesheet" type="text/css" href="https://cdn.dhtmlx.com/scheduler/edge/dhtmlxscheduler_material.css" />
    <script src="https://cdn.dhtmlx.com/scheduler/edge/dhtmlxscheduler.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", function (event) {
            // initializing scheduler
            scheduler.init("scheduler_here", new Date(2022, 0, 15));

            // initiating data loading
            scheduler.load("/api/scheduler");
            // initializing dataProcessor
            var dp = scheduler.createDataProcessor("/api/scheduler");
            // and attaching it to scheduler
            dp.init(scheduler);
            // setting the REST mode for dataProcessor
            dp.setTransactionMode("REST");
        });

        scheduler.plugins({
            timeline: true,
            treetimeline: true,
            daytimeline: true
        });

        scheduler.createTimelineView({
            name: "timeline",
            x_unit: "minute", // measuring unit of the X-Axis.
            x_date: "%H:%i",  // date format of the X-Axis
            x_step: 30,       // X-Axis step in 'x_unit's
            x_size: 24,       // X-Axis length specified as the total number of 'x_step's
            x_start: 16,      // X-Axis offset in 'x_unit's
            x_length: 48,     // number of 'x_step's that will be scrolled at a time
            y_unit:          // sections of the view (titles of Y-Axis)
                [{ key: 1, label: "Section A" },
                { key: 2, label: "Section B" },
                { key: 3, label: "Section C" },
                { key: 4, label: "Section D" }],
            y_property: "section_id", // mapped data property
            render: "bar",             // view mode
            second_scale: {
                x_unit: "day", // the measuring unit of the axis (by default, 'minute')
                x_date: "%F %d" //the date format of the axis ("July 01")
            }
        });
    </script>
}
